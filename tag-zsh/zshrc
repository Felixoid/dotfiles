zstyle :compinstall filename "${HOME}/.zshrc"
zstyle ':completion:*' completer _complete _ignored _approximate
zstyle ':completion:*' max-errors 1
zstyle ':completion:*' menu select

# I don't want to see error `zsh: no matches found: remote.host:file.*` on `rsync` invoking
unsetopt NOMATCH

# allow comments in interactive
setopt interactivecomments

autoload -Uz compinit
compinit

bindkey -v
bindkey -M viins '\e.' insert-last-word
bindkey "^W" backward-kill-word
bindkey '^K' unlock-rsa
bindkey "^[[A" history-beginning-search-backward
bindkey "^[[B" history-beginning-search-forward

#experiment
case ${TERM} in
  xterm*)
    precmd () {print -Pn "\e]0;%5~\a"}
    ;;
esac

# autocompletion
_SERVERADMIN_HOSTS_ZSTYLE=true

[ -f ${HOME}/.shellsrc ] && . ${HOME}/.shellsrc
# work rcs
if [ -r "$HOME/.workrc/" ] && [ -n "$(ls "$HOME/.workrc/")" ]; then
  for src in "$HOME/.workrc/"*.zsh(N); do
    [ -r "$src" ] && . "$src"
  done
fi
